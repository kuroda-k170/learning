問題１、YYYYMMをどうやって、YYYYMMDDにするか？

問題２、プルダウンの中身のデータをどうやって編集するか？
    ①全削除後、同じ形式にしてデータを入れる
        foreachで回してやってるところを真似する？
        職業で医者・看護師とか分けるのが難しそう？
    ②重複しないものを削除する？
    ③



コードをコピーする
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function() {
    // 指定日が変更された時のイベントリスナー
    $('#datePicker').on('change', function() {
        var selectedDate = $(this).val();
        var csrfToken = $('input[name="csrf_token_name"]').val(); // CSRFトークンを取得

        $.ajax({
            url: 'YOUR_CONTROLLER/method',
            type: 'POST',
            data: {
                date: selectedDate,
                csrf_token_name: csrfToken
            },
            success: function(response) {
                // 取得したデータをプルダウンにセット
                updateDropdown(response);
            },
            error: function(xhr, status, error) {
                console.log('Error: ' + error);
            }
        });
    });

    // プルダウンの中身を更新する関数
    function updateDropdown(data) {
        var dropdown = $('#positionDropdown');
        dropdown.empty(); // 既存のオプションを削除

        // 新しいオプションを追加
        dropdown.append('<optgroup label="役職">');
        dropdown.append('<option value="">選択してください</option>');

        $.each(data.positions, function(index, position) {
            dropdown.append('<option value="' + position.value + '">' + position.label + '</option>');
        });

        dropdown.append('</optgroup>');
    }
});
</script>